(x): 不推荐使用;(!): 警告信息;[编辑器]: 只能在编辑器中运行,无法在cli中运行
## call.functionBlock
- 调用其他脚本

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||脚本路径|
|×|||参数数组,参数为(arg)=>any格式|

### 返回
- 最后一条语句的值


---

## call.blockTransformPipe
- (x)调用块

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||

### 返回
- 最后一个块值


---

## read.contentResolveByFileQueryBlock
- 通过glob匹配文件名和selector查询文件内容确定文件,创建内容解析器;
向外查询指当文件夹下没有查找匹配文件时,会向上级文件夹查询,最终查询到工作空间

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||查询模式,0:当前;1:不断向外(如果没有查询到)|
|✓|||文件匹配|
|✓|||选择器匹配|
|×|||解析器配置|
|✓||true|是否为多选|
|✓|||忽略列表|

### 返回
- {path?:string(路径),
content:string(文件内容),
resolve$$:any(解析器,内部使用)}(对象/对象数组)


---

## read.contentResolveByFilePathBlock
- 根据传入文件路径(数组),读取文件,创建内容解析器

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||文件路径|
|×|||解析器配置|

### 返回
- {path?:string(路径),
content:string(文件内容),
resolve$$:any(解析器,内部使用)}(对象/对象数组)


---

## read.contentResolveByStringBlock
- 根据传入字符串,创建内容解析器

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||内容|
|×|||解析器配置|

### 返回
- {path?:string(路径),
content:string(文件内容),
resolve$$:any(解析器,内部使用)}


---

## read.editorInputBlock
- 读取文本编辑器输入数据

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||selectRange|[编辑器]读取当前文档的一些参数|

### 返回
- insertRange?: { value: string; range: [number,number] }[];
selectRange?: { value: string; range: [number,number] }[];
path: string;
dir: string;
workspacePath: string;
snippetParameters?: Record<string,any>;
trigger?: string
之一


---

## read.fileBlock
- 读取指定文件,尝试解析(仅支持JSON)

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||读取文件内容|
|×|json|plain|buffer||格式化|

### 返回
- string||object||buffer


---

## read.functionParameter
- 读取外部脚本传入的参数(call.functionBlock中定义的参数)

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||上下文|
|×|||变量名|

### 返回
- 保存的数据


---

## read.dropdown
- (x)读取下拉选项

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||

### 返回
- 选择值


---

## read.setting
- 读取平台的一些设置

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||配置名|


---

## context.readParameterBlock
- (x)读取上下文参数,经过一定处理后,写入到数据变量中

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||

### 返回
- 根据保存


---

## context.setParameter
- (x)设置上下文参数

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|✓||||

### 返回
- 根据输入


---

## function.defineBlock
- (x)定义内联函数;上下文参数[item]:调用时传入;上下文参数[input]:定义时传入;

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||
|×||||

### 返回
- Function


---

## function.callBlock
- (x)调用内联函数

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|✓||||

### 返回
- 最后一条语句的值


---

## query.nodeQuery
- 通过"内容解析变量",使用css风格查询语句节点

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||内容解析器,通过 contentResolveByFileQueryBlock/contentResolveByFilePathBlock/contentResolveByStringBlock 返回|
|×|||选择器|
|✓||true|查询所有|

### 返回
- {path?:string(路径),
content:string(文件内容),
resolve$$:any(解析器,内部使用),
node:object(查询到的节点)}(对象/对象数组)


---

## map.data
- (x)数据映射,创建(继承)对象或创建一个元组;通常用于对已有节点的修改

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||
|×||||
|×|list|object|||
|✓||||

### 返回
- object||array


---

## operator.replaceNode
- 修改文件;可以用于新增/修改/删除内容

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||修改列表|
|×|||获取文件(使用nodeQuery查询到的话就是自身)|
|×|||范围|
|×|||修改内容|


---

## operator.deleteFile
- 删除文件

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||文件路径|


---

## operator.newFile
- 新建文件

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||输入对象|
|×|||(obj)=>文件名;从输入对象中取得|
|×|||(obj)=>内容;从输入对象中取得|


---

## operator.renameFile
- 重命名文件

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||输入对象|
|×|||(obj)=>旧文件名;从输入对象中取得|
|×|||(obj)=>旧文件名;从输入对象中取得|


---

## operator.callAction
- (x)调用动作,与嵌套动作类似,需要指定动作调用时所在文件夹

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||
|×||||


---

## operator.insertSnippet
- [编辑器]插入代码片段(只能插入到当前编辑器中)

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×||||


---

## operator.template
- 将文件列表作为模板插入;文件内容可以为字符串或者Buffer

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||对象列表|
|×|||(obj)=>文件名;从输入对象中取得|
|×|||(obj)=>内容;从输入对象中取得;string/Buffer|
|✓||false|是否撤销|
|✓|||合并策略;[编辑器]editor|


---

## operator.commandExec
- (x)执行命令

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|✓||||
|✓||||


---

## globalVariable.setStringByInteractive
- 通过交互设置全局变量获取字符串

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||{name:变量名,message:提示,force:强制}[]|

### 返回
- string


---

## globalVariable.setBooleanByInteractive
- 通过交互设置全局变量交互获取真/假值

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||{name:变量名,message:提示,force:强制}[]|

### 返回
- boolean


---

## globalVariable.setValue
- (!)设置动作全局变量;此方法参数顺序有问题,未来会调整

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||值|
|×|||变量名|


---

## globalVariable.getValue
- 获得动作全局变量

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||变量名|


---

## string.template
- (!)(x)字符串模板,用于文本拼接;插入时需要通过"input/input.xx"获取输入数据;如a{{input}}b,如果输入为"1",则输出为"a1b";未来可能会重新设计支持不同的模板

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||变量对象|
|×|||模板|

### 返回
- string


---

## array.slice
- (x)数组/字符串裁剪,同Array.prototype.slice

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×||||
|×||||

### 返回
- array


---

## array.sort
- (x)数组排序,支持默认排序和多字段排序

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|✓||||
|✓||asc||

### 返回
- array


---

## array.reverse
- (x)数组反转;同Array.prototype.reverse

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||

### 返回
- array


---

## array.flat
- (x)数组拍平;同Array.prototype.flat

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|✓||1||

### 返回
- array


---

## array.find
- (x)数组查询;多种查询方式;上下文参数[item]:每一项;上下文参数[index]:每一项索引;

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×||||
|×|some|every|find|findIndex|findLast|findLastIndex|||

### 返回
- boolean|数组项


---

## array.concat
- (x)数组连接

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||

### 返回
- array


---

## array.map
- (x)数组映射;同Array.prototype.map;上下文参数[item]:每一项;上下文参数[index]:每一项索引;

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×||||

### 返回
- array


---

## array.join
- (x)数组连接;数组=>字符串,同Array.prototype.join

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|✓||||

### 返回
- string


---

## array.category
- (x)数组分类;根据返回的分类名,将数组分成不同组;上下文参数[item]:每一项;上下文参数[index]:每一项索引;

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×||||

### 返回
- [分类名(string),原数组类型][]


---

## array.filter
- (x)数组过滤;上下文参数[item]:每一项;上下文参数[index]:每一项索引;

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×||||

### 返回
- array


---

## array.push
- (x)添加元素

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×|tail|head|index|||
|✓||||
|✓||||

### 返回
- array


---

## array.pop
- (x)删除元素

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×|tail|head|index|||
|✓||||

### 返回
- array


---

## object.merge
- (x)对象合并

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||

### 返回
- object


---

## object.toList
- (x)对象=>数组

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||

### 返回
- [key,value][]


---

## nodeCommon.insertRange
- 获得插入范围;将一个节点上的范围转换为插入的范围,如: "node.range:[0,2]",返回"[0,0]"或"[2,2]" 

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||解析器|
|×|start|end||插入到节点前/后|

### 返回
- [number,number]


---

## nodeCommon.getData
- 使用路径获取对象/数组/节点上的指定数据;如: "[0].a" 为获取第0个元素上的a属性

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||输入值|
|×|||查询路径;参考 lodash.get|

### 返回
- 根据查询路径确定


---

## common.function
- (x)一些通用函数.如果需要传入多个参数需要手动设置

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||
|×||||
|×||||

### 返回
- 大部分string|Regexp


---

## common.boolean
- (x)创建真/假值

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||

### 返回
- boolean


---

## common.regexp
- (x)创建正则表达式

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|✓||||

### 返回
- Regexp


---

## common.or
- (x)||:真值数据;??:不包含null,undefined的真值数据

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|??||||||
|×||||

### 返回
- 真值数据


---

## common.didYouMean
- 最相似的字符串,默认相似度0.4

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||输入值|
|×|||匹配列表|

### 返回
- string||null


---

## number.arithemetic
- (x)进行普通的数字运算,支持数字和数组

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×|+|-|*|/|%|||
|×||||

### 返回
- number|number[]


---

## number.numberInput
- (x)创建一个数字或数组

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||

### 返回
- number|[number,number]


---

## compare.boolCompare
- (x)真值比较;比较输入值为真值/假值

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||
|✓||true||

### 返回
- boolean


---

## compare.baseCompare
- (x)基础比较;比较顺序为"第一个值" "比较类型" "第二个值"

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||
|×|EQ|NEQ|LT|LTE|GT|GTE|||
|✓||||

### 返回
- boolean


---

## compare.rangeCompare
- 数组比较;比较顺序为"输入1" "比较类型" "输入1"

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||输入1|
|×|contains|reverse-contains|intersection|equal|not-intersection||比较类型|
|×|||输入1|

### 返回
- boolean


---

## compare.stringCompare
- (x)字符串比较;比较顺序为"第一个值" "比较类型" "第二个值"

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||
|×|startsWith|endsWith|includes|equal|||
|×||||

### 返回
- boolean


---

## compare.multiCompare
- (x)多个比较结果(数值) 与/或

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×||||&&|||
|×||||

### 返回
- boolean


---

## compare.typeCompare
- (x)类型比较

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||
|×|String|Array|Object|Number|Boolean|null|undefined|nullish|||

### 返回
- boolean


---

## compare.not
- (x)结果取反

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||

### 返回
- boolean


---

## view.view
- (!)视图定义语句,视图动作最后一个语句必须是它(脚本中无此限制可以不需要)

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||


---

## view.grid
- [编辑器]网格布局

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||{config:{list:{x,y,fixed:是否固定,cols:跨多少列}}}|
|×|||(()=>其他组件)[]|


---

## view.button
- [编辑器]按钮

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||{label,color,type,fontSet:图标集}|
|×|||函数调用|


---

## view.label
- [编辑器]标签

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓|||{label}|


---

## view.input
- [编辑器]输入

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||绑定全局变量|
|✓|||配置;{label,placeholder,type:'input'|'textarea',color,fontSet:图标集}|


---

## view.checkbox
- [编辑器]复选

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||绑定全局变量|
|✓|||{label,type:''|'icon',color,fontSet:图标集,labelPosition:'before'|'after'}|


---

## view.select
- [编辑器]选择

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||绑定全局变量|
|✓|||配置;{label,placeholder,type:'input'|'textarea',color,fontSet:图标集,multiple:多选,preset:是否为预设列表,presetName:'queryMode'|'languageConfig'|'dataType'|'arrayAddType'}|
|✓|||列表|
|×|||显示映射函数|
|×|||值映射函数|


---

## view.showData
- [编辑器]展示数据

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||绑定全局变量|
|✓|||{type:'node-list'|'other'}|
|✓|||展示数据|


---

## error.throw
- 抛出异常

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||


---

## os.gitClone
- 通过Git拉取指定仓库的指定文件;请不要将账户密码写到Url中

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|×|||url|
|✓||*|匹配,参考 https://git-scm.com/docs/git-sparse-checkout#_internalsfull_pattern_set|
|✓|||仓库文件夹路径|
|✓||branch|模式|
|✓|||commit|

### 返回
- {[文件名]:Buffer}


---

## debug.dialog
- 调试将输入的数据显示在模态弹窗上

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||
|✓||||

### 返回
- 输入值


---

## debug.output
- 调试将输入的数据显示在下方的输出上

### 参数
|可选|枚举|默认|描述|
|-|-|-|-|
|✓||||
|✓||||

### 返回
- 输入值


---
